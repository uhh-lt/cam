name: "Docker build"

on: push

jobs:
  build-frontend:
    name: "ğŸš€ Build frontend image"
    runs-on: ubuntu-18.04
    steps:
    - name: "ğŸ“¥ Check-out"
      uses: actions/checkout@v2
    - name: "ğŸ§° Set up QEMU"
      uses: docker/setup-qemu-action@v1
    - name: "ğŸ§° Set up Docker Buildx"
      uses: docker/setup-buildx-action@v1
    - name: "ğŸš€ Build Docker image"
      uses: docker/build-push-action@v2
      with:
        context: src/Frontend/camFrontend
        file: ./Dockerfile
        push: false
  build-backend:
    name: "ğŸš€ Build backend image"
    runs-on: ubuntu-18.04
    steps:
    - name: "ğŸ“¥ Check-out"
      uses: actions/checkout@v2
    - name: "ğŸ§° Set up QEMU"
      uses: docker/setup-qemu-action@v1
    - name: "ğŸ§° Set up Docker Buildx"
      uses: docker/setup-buildx-action@v1
    - name: "ğŸš€ Build Docker image"
      uses: docker/build-push-action@v2
      with:
        context: src/Backend
        file: ./Dockerfile
        push: false
